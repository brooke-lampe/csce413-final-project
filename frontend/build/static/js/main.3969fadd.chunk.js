(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{218:function(e,t,a){e.exports=a(396)},388:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"filters",(function(){return A})),a.d(n,"activeView",(function(){return S})),a.d(n,"activeTrend",(function(){return j})),a.d(n,"data",(function(){return N})),a.d(n,"loading",(function(){return C}));var r=a(0),i=a.n(r),l=a(27),c=a.n(l),o=a(18),s=a(69),u=a(189),d=a(22),p=new Date,m=new Date(p.getFullYear()-2,p.getMonth(),p.getDate()),v=0,f={DASHBOARD:"DASHBOARD",TRENDS:"TRENDS",DATA:"DATA"},h={OVERVIEW:"OVERVIEW",DAYS:"DAYS",MONTHS:"MONTHS",YEARS:"YEARS"},b="SET_FILTER",y="SET_ACTIVE_VIEW",E="SET_ACTIVE_TREND",g="SET_DATA",O="SET_LOADING";function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D={cities:[v],propertyTypes:[v],startDate:m,endDate:p};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;if(t.type!==b)return e;var a=t.payload,n=a.key,r=a.value;if(Array.isArray(r)&&r.length>0){if(r[r.length-1]===v)return w({},e,Object(d.a)({},n,[v]));if(r[0]===v)return w({},e,Object(d.a)({},n,r.slice(1)))}return w({},e,Object(d.a)({},n,r))}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.DASHBOARD,t=arguments.length>1?arguments[1]:void 0;return t.type!==y?e:t.payload}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.OVERVIEW,t=arguments.length>1?arguments[1]:void 0;return t.type!==E?e:t.payload}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type!==g?e:t.payload}function C(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type!==O?e:t.payload}var k=Object(s.d)(Object(s.c)(n),Object(s.a)(u.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(410),F=a(417),B=a(45);function V(e){return{type:O,payload:e}}function P(e){return function(t){t(V(!0));var a=new FormData;for(var n in e){var r=e[n];r instanceof Array?a.append(n,r.join(",")):r instanceof Date?a.append(n,r.toISOString().slice(0,19).replace("T"," ")):a.append(n,r)}fetch("http://csce413.loc/api/sales/",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){t(function(e){return{type:g,payload:e}}(e)),t(V(!1))}))}}var I=Object(o.b)((function(e){return{activeView:e.activeView}}),(function(e){return{setActiveView:function(t){return e(function(e){return{type:y,payload:e}}(t))}}}))((function(e){var t=e.activeView,a=e.setActiveView;return i.a.createElement("div",{className:"side-bar"},i.a.createElement("div",{className:"title"},"Lancaster Realty Analytics"),i.a.createElement("div",{className:"items-wrapper"},i.a.createElement("div",{className:t===f.DASHBOARD?"item active":"item"},i.a.createElement("span",{onClick:function(){return a(f.DASHBOARD)}},i.a.createElement(B.a,{name:"dashboard"})," Dashboard")),i.a.createElement("div",{className:t===f.TRENDS?"item active":"item"},i.a.createElement("span",{onClick:function(){return a(f.TRENDS)}},i.a.createElement(B.a,{name:"chart line"})," Trends"))))})),x=a(31),L=a(32),K=a(33),M=a(34),Y=a(24),H=a(35),W=a(411),_=a(400),z=a(207),G=a(412),J=a(408),$=a(193),q=a.n($);a(346);var Q=function(e){function t(e){var a;return Object(x.a)(this,t),a=Object(K.a)(this,Object(M.a)(t).call(this,e)),"dropdown"===e.filterType&&(a.state={options:[],loading:!0}),a.onChange=a.onChange.bind(Object(Y.a)(a)),a.renderLable=a.renderLable.bind(Object(Y.a)(a)),a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.filterType,n=t.filterKey,r=t.label;if("dropdown"===a){var i="http://csce413.loc/api/".concat(n,"/");fetch(i,{method:"POST"}).then((function(e){return e.json()})).then((function(t){return e.setState({options:[{key:0,value:0,text:"All ".concat(r)}].concat(Object(z.a)(t)),loading:!1})}))}}},{key:"onChange",value:function(e,t){var a=this.props;(0,a.setFilter)(a.filterKey,t.value)}},{key:"renderLable",value:function(e){return e.short_text?e.short_text:e.text}},{key:"getFilterInput",value:function(){var e=this,t=this.props,a=t.value,n=t.placeholder;switch(t.filterType){case"dropdown":var r=this.state,l=r.loading,c=r.options;return i.a.createElement(G.a,{placeholder:n,fluid:!0,multiple:!0,clearable:!0,renderLabel:this.renderLable,search:!0,selection:!0,loading:l,options:c,value:a,onChange:this.onChange});case"date":return i.a.createElement(q.a,{selected:a,onChange:function(t){return e.onChange({},{value:t})},customInput:i.a.createElement(J.a,{placeholder:n})});default:return}}},{key:"render",value:function(){var e=this.props,t=e.filterType,a=e.label;return i.a.createElement(W.a.Field,{width:"date"===t?3:5},i.a.createElement("label",null,a),this.getFilterInput())}}]),t}(i.a.Component),U=Object(o.b)((function(e,t){var a=t.filterKey;return{value:e.filters[a]}}),(function(e){return{setFilter:function(t,a){return e(function(e,t){return{type:b,payload:{key:e,value:t}}}(t,a))}}}))(Q);a(388);var X=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(K.a)(this,Object(M.a)(t).call(this,e))).onApplyFilters=a.onApplyFilters.bind(Object(Y.a)(a)),a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.applyFilters)(e.filters)}},{key:"onApplyFilters",value:function(){var e=this.props;(0,e.applyFilters)(e.filters)}},{key:"render",value:function(){return i.a.createElement("div",{className:"filters-wrapper"},i.a.createElement(W.a,null,i.a.createElement(W.a.Group,null,i.a.createElement(U,{filterKey:"cities",label:"Cities",filterType:"dropdown",placeholder:"Select Cities"}),i.a.createElement(U,{filterKey:"propertyTypes",label:"Property Types",filterType:"dropdown",placeholder:"Select Property types"}),i.a.createElement(U,{filterKey:"startDate",label:"Start Date",filterType:"date",placeholder:"Start Date"}),i.a.createElement(U,{filterKey:"endDate",label:"End Date",filterType:"date",placeholder:"End Date"})),i.a.createElement(_.a,{floated:"right",size:"large",onClick:this.onApplyFilters},"Apply Filters"),i.a.createElement("div",{style:{clear:"both"}})))}}]),t}(i.a.Component),Z=Object(o.b)((function(e){return{filters:e.filters}}),(function(e){return{applyFilters:function(t){return e(P(t))}}}))(X),ee=a(414),te=a(415),ae=a(409),ne=Object(o.b)((function(e){return{isLoading:e.loading}}))((function(e){var t=e.title,a=e.isLoading,n=e.icon,r=e.children;return i.a.createElement(ee.a,{fluid:!0},i.a.createElement(ee.a.Content,null,i.a.createElement(ee.a.Header,null," ",i.a.createElement(B.a,{name:n})," ",t)),i.a.createElement(ee.a.Content,{className:"body"},i.a.createElement(te.a,{active:a},i.a.createElement(ae.a,{active:a,inverted:!0,content:"Loading"})),r))})),re=a(37),ie=a.n(re),le=a(56),ce=a.n(le),oe=a(109),se=a.n(oe),ue=a(67),de=a.n(ue),pe=a(68),me=a.n(pe);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}ie.a.fcRoot(ce.a,se.a,de.a,me.a);var he=function(e,t,a){return{chart:{showBorder:"0",showShadow:"0",use3DLighting:"0",showLabels:"0",showValues:"0",paletteColors:"#0B5345, #2980b9, #641E16, #f39c12, #939393, #8e44ad",bgAlpha:"0",canvasBgAlpha:"0",doughnutRadius:"60",pieRadius:"110",plotBorderAlpha:"0",toolTipBgcolor:"#000",toolTipColor:"#FDFDFD",toolTipPadding:"7",toolTipBorderRadius:"3",toolTipBorderAlpha:"30",tooltipBorderThickness:"0.7",baseFontSize:"12",baseFontColor:"#e3e3e3",showLegend:"1",legendNumColumns:"2",legendShadow:"0",legendBorderAlpha:"0",drawCustomLegendIcon:"1",legendBgAlpha:"0",chartTopMargin:"-10",canvasTopMargin:"-10",chartBottomMargin:"20",canvasBottomMargin:"20",defaultCenterLabel:"".concat(e," <br> ").concat(t),numberPrefix:a,centerLabel:"$value",centerLabelBold:"1",centerLabelFontSize:"16",enableRotation:"0",transposeAnimation:"1"},data:[]}},be=Object(o.b)((function(e){return{data:e.data.typesDistribution}}))((function(e){var t=e.data,a={type:"doughnut2d",className:"fc-doughnut2d",dataFormat:"JSON",width:"100%",height:"350"},n=fe({},a,{dataSource:fe({},he("Total Sales",t?t.sales.total:0,"$"),{data:t?t.sales.data:[]})}),r=fe({},a,{dataSource:fe({},he("Total Sold",t?t.count.total:0,""),{data:t?t.count.data:[]})});return i.a.createElement(F.a,{className:"card-grid",columns:2,relaxed:"very",stackable:!0},i.a.createElement(F.a.Column,{verticalAlign:"middle"},i.a.createElement(ie.a,n)),i.a.createElement(F.a.Column,{verticalAlign:"middle"},i.a.createElement(ie.a,r)))})),ye=Object(o.b)((function(e,t){var a=t.dataKey;return{data:e.data[a]}}))((function(e){var t=e.data;return i.a.createElement(F.a,{className:"card-grid",columns:4,relaxed:"very",stackable:!0},t?t.map((function(e,t){return i.a.createElement(F.a.Column,{key:t,verticalAlign:"middle"},i.a.createElement("div",{className:"quick-fact"},i.a.createElement("div",{className:"text"},i.a.createElement(B.a,{name:e.icon})," ",e.text),i.a.createElement("div",{className:"value"},e.value)))})):"No data to display")}));ie.a.fcRoot(ce.a,se.a,de.a,me.a);var Ee=Object(o.b)((function(e,t){var a=t.dataKey;return{data:e.data[a]}}))((function(e){var t,a,n=e.title,r=e.icon,l=e.data,c=(t=l?l.categories:[],a=l?l.dataset:[],{type:"scrollcolumn2d",dataFormat:"JSON",width:"100%",height:"400",dataSource:{chart:{bgAlpha:"0",paletteColors:"#0B5345, #2980b9, #641E16, #2c3e50, #8e44ad, #f39c12",toolTipBgcolor:"#000",toolTipColor:"#FDFDFD",toolTipPadding:"7",toolTipBorderRadius:"3",toolTipBorderAlpha:"30",tooltipBorderThickness:"0.7",baseFontSize:"12",baseFontColor:"#e3e3e3",xAxisNameFontColor:"#e3e3e3",xAxisValueFontColor:"#e3e3e3",yAxisNameFontColor:"#e3e3e3",yAxisValueFontColor:"#e3e3e3",theme:"candy",yaxisname:"Median Sale Price",numvisibleplot:"35",labeldisplay:"auto"},categories:t,dataset:a}});return i.a.createElement(ne,{title:n,icon:r},i.a.createElement(ie.a,c))})),ge=function(){return i.a.createElement("div",{className:"dashboard"},i.a.createElement(ne,{title:"Statistics",icon:"dashboard"},i.a.createElement(ye,{dataKey:"overview"})),i.a.createElement(ne,{title:"Types Distribution",icon:"chart pie"},i.a.createElement(be,null)),i.a.createElement(ne,{title:"Trends At Glance",icon:"chart line"},i.a.createElement(ye,{dataKey:"trendsGlance"})),i.a.createElement(Ee,{title:"Cities Distribution",icon:"chart bar",dataKey:"citesDistribution"}))},Oe=a(413);var Te=Object(o.b)((function(e){return{activeTrend:e.activeTrend}}),(function(e){return{setActiveTrend:function(t){return e(function(e){return{type:E,payload:e}}(t))}}}))((function(e){var t=e.activeTrend,a=e.setActiveTrend;return i.a.createElement("div",{className:"trends-list-wrapper"},i.a.createElement(Oe.a,{className:"trends-list",horizontal:!0,relaxed:!0},i.a.createElement(Oe.a.Item,{className:t===h.OVERVIEW?"list-item active":"list-item",onClick:function(){return a(h.OVERVIEW)}},"Overview"),i.a.createElement(Oe.a.Item,{className:t===h.DAYS?"list-item active":"list-item",onClick:function(){return a(h.DAYS)}},"Week Days"),i.a.createElement(Oe.a.Item,{className:t===h.MONTHS?"list-item active":"list-item",onClick:function(){return a(h.MONTHS)}},"Months"),i.a.createElement(Oe.a.Item,{className:t===h.YEARS?"list-item active":"list-item",onClick:function(){return a(h.YEARS)}},"Years")))})),we=a(206),De=a.n(we);ie.a.fcRoot(ce.a,De.a,de.a,me.a);var Ae=function(e){function t(e){var a;return Object(x.a)(this,t),(a=Object(K.a)(this,Object(M.a)(t).call(this,e))).getChart=a.getChart.bind(Object(Y.a)(a)),a}return Object(H.a)(t,e),Object(L.a)(t,[{key:"getChart",value:function(){var e=this.props.data;return{type:"timeseries",renderAt:"container",width:"100%",height:"400",dataSource:{data:(new ce.a.DataStore).createDataTable(e||[],[{name:"Time",type:"date",format:"%d-%b-%y"},{name:"Type",type:"string"},{name:"sale",type:"number"}]),extensions:{customRangeSelector:{enabled:"0"}},chart:{theme:"candy",style:{canvas:{fill:"#1e1e1e"},background:{fill:"#1e1e1e"}},paletteColors:"#0B5345, #2980b9, #641E16, #2c3e50, #8e44ad, #f39c12"},series:"Type",yAxis:[{plot:[{value:"sale",connectnulldata:!0}],min:"130"}]}}}},{key:"render",value:function(){var e=this.getChart();return i.a.createElement(ne,{title:"Trends Overview",icon:"chart line"},i.a.createElement("div",{className:"overview-chart"},i.a.createElement(ie.a,e)))}}]),t}(i.a.Component),Se=Object(o.b)((function(e,t){var a=t.dataKey;return{data:e.data[a]}}))(Ae),je=Object(o.b)((function(e){return{activeTrend:e.activeTrend}}))((function(e){var t=e.activeTrend;return i.a.createElement("div",{className:"trends"},i.a.createElement(Te,null),i.a.createElement("div",{className:t===h.OVERVIEW?"trend active":"trend"},i.a.createElement(Se,{dataKey:"overviewTrends"})),i.a.createElement("div",{className:t===h.DAYS?"trend active":"trend"},i.a.createElement(Ee,{title:"Day Trends",icon:"chart bar",dataKey:"daysTrends"})),i.a.createElement("div",{className:t===h.MONTHS?"trend active":"trend"},i.a.createElement(Ee,{title:"Months Trends",icon:"chart bar",dataKey:"monthsTrends"})),i.a.createElement("div",{className:t===h.YEARS?"trend active":"trend"},i.a.createElement(Ee,{title:"Years Trends",icon:"chart bar",dataKey:"yearsTrends"})))})),Ne=Object(o.b)((function(e){return{activeView:e.activeView}}))((function(e){var t=e.activeView;return i.a.createElement("div",{className:"body-wrapper"},i.a.createElement(Z,null),i.a.createElement("div",{className:t===f.DASHBOARD?"view active":"view"},i.a.createElement(ge,null)),i.a.createElement("div",{className:t===f.TRENDS?"view active":"view"},i.a.createElement(je,null)))})),Ce=(a(394),function(){return i.a.createElement(R.a,{fluid:!0,className:"app-container"},i.a.createElement(F.a,null,i.a.createElement(F.a.Column,{className:"side-bar-column",width:3},i.a.createElement(I,null)),i.a.createElement(F.a.Column,{width:13},i.a.createElement(Ne,null))))});a(395);c.a.render(i.a.createElement(o.a,{store:k},i.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[218,1,2]]]);
//# sourceMappingURL=main.3969fadd.chunk.js.map